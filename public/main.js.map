{"version":3,"file":"main.js","mappings":"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","sources":["webpack://Syfr/./node_modules/object-assign/index.js","webpack://Syfr/./node_modules/react/cjs/react.production.min.js","webpack://Syfr/./node_modules/react/index.js","webpack://Syfr/./node_modules/jose/dist/browser/lib/buffer_utils.js","webpack://Syfr/./node_modules/jose/dist/browser/runtime/base64url.js","webpack://Syfr/./node_modules/jose/dist/browser/util/errors.js","webpack://Syfr/./node_modules/jose/dist/browser/runtime/webcrypto.js","webpack://Syfr/./node_modules/jose/dist/browser/runtime/random.js","webpack://Syfr/./node_modules/jose/dist/browser/lib/iv.js","webpack://Syfr/./node_modules/jose/dist/browser/runtime/check_cek_length.js","webpack://Syfr/./node_modules/jose/dist/browser/runtime/is_key_like.js","webpack://Syfr/./node_modules/jose/dist/browser/runtime/zlib.js","webpack://Syfr/./node_modules/jose/dist/browser/runtime/bogus.js","webpack://Syfr/./node_modules/jose/dist/browser/lib/crypto_key.js","webpack://Syfr/./node_modules/jose/dist/browser/lib/invalid_key_input.js","webpack://Syfr/./node_modules/jose/dist/browser/runtime/aeskw.js","webpack://Syfr/./node_modules/jose/dist/browser/runtime/digest.js","webpack://Syfr/./node_modules/jose/dist/browser/runtime/subtle_rsaes.js","webpack://Syfr/./node_modules/jose/dist/browser/lib/cek.js","webpack://Syfr/./node_modules/jose/dist/browser/runtime/env.js","webpack://Syfr/./node_modules/jose/dist/browser/runtime/jwk_to_key.js","webpack://Syfr/./node_modules/jose/dist/browser/runtime/encrypt.js","webpack://Syfr/./node_modules/jose/dist/browser/lib/check_iv_length.js","webpack://Syfr/./node_modules/jose/dist/browser/lib/encrypt_key_management.js","webpack://Syfr/./node_modules/jose/dist/browser/lib/check_key_type.js","webpack://Syfr/./node_modules/jose/dist/browser/runtime/ecdhes.js","webpack://Syfr/./node_modules/jose/dist/browser/key/export.js","webpack://Syfr/./node_modules/jose/dist/browser/runtime/key_to_jwk.js","webpack://Syfr/./node_modules/jose/dist/browser/runtime/rsaes.js","webpack://Syfr/./node_modules/jose/dist/browser/runtime/check_key_length.js","webpack://Syfr/./node_modules/jose/dist/browser/runtime/pbes2kw.js","webpack://Syfr/./node_modules/jose/dist/browser/lib/check_p2s.js","webpack://Syfr/./node_modules/jose/dist/browser/lib/aesgcmkw.js","webpack://Syfr/./node_modules/jose/dist/browser/jwe/flattened/encrypt.js","webpack://Syfr/./node_modules/jose/dist/browser/lib/is_disjoint.js","webpack://Syfr/./node_modules/jose/dist/browser/lib/validate_crit.js","webpack://Syfr/./node_modules/jose/dist/browser/jwe/compact/encrypt.js","webpack://Syfr/./src/encrypt.ts","webpack://Syfr/./src/event.ts","webpack://Syfr/./src/class.ts","webpack://Syfr/./src/request.ts","webpack://Syfr/./node_modules/jose/dist/browser/key/import.js","webpack://Syfr/./node_modules/jose/dist/browser/lib/is_object.js","webpack://Syfr/webpack/bootstrap","webpack://Syfr/webpack/runtime/define property getters","webpack://Syfr/webpack/runtime/hasOwnProperty shorthand","webpack://Syfr/webpack/runtime/make namespace object","webpack://Syfr/./src/react.tsx"],"sourcesContent":["/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/** @license React v17.0.2\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=require(\"object-assign\"),n=60103,p=60106;exports.Fragment=60107;exports.StrictMode=60108;exports.Profiler=60114;var q=60109,r=60110,t=60112;exports.Suspense=60113;var u=60115,v=60116;\nif(\"function\"===typeof Symbol&&Symbol.for){var w=Symbol.for;n=w(\"react.element\");p=w(\"react.portal\");exports.Fragment=w(\"react.fragment\");exports.StrictMode=w(\"react.strict_mode\");exports.Profiler=w(\"react.profiler\");q=w(\"react.provider\");r=w(\"react.context\");t=w(\"react.forward_ref\");exports.Suspense=w(\"react.suspense\");u=w(\"react.memo\");v=w(\"react.lazy\")}var x=\"function\"===typeof Symbol&&Symbol.iterator;\nfunction y(a){if(null===a||\"object\"!==typeof a)return null;a=x&&a[x]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}function z(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}\nvar A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B={};function C(a,b,c){this.props=a;this.context=b;this.refs=B;this.updater=c||A}C.prototype.isReactComponent={};C.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(z(85));this.updater.enqueueSetState(this,a,b,\"setState\")};C.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};\nfunction D(){}D.prototype=C.prototype;function E(a,b,c){this.props=a;this.context=b;this.refs=B;this.updater=c||A}var F=E.prototype=new D;F.constructor=E;l(F,C.prototype);F.isPureReactComponent=!0;var G={current:null},H=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};\nfunction J(a,b,c){var e,d={},k=null,h=null;if(null!=b)for(e in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)H.call(b,e)&&!I.hasOwnProperty(e)&&(d[e]=b[e]);var g=arguments.length-2;if(1===g)d.children=c;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];d.children=f}if(a&&a.defaultProps)for(e in g=a.defaultProps,g)void 0===d[e]&&(d[e]=g[e]);return{$$typeof:n,type:a,key:k,ref:h,props:d,_owner:G.current}}\nfunction K(a,b){return{$$typeof:n,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function L(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===n}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var M=/\\/+/g;function N(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction O(a,b,c,e,d){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case n:case p:h=!0}}if(h)return h=a,d=d(h),a=\"\"===e?\".\"+N(h,0):e,Array.isArray(d)?(c=\"\",null!=a&&(c=a.replace(M,\"$&/\")+\"/\"),O(d,b,c,\"\",function(a){return a})):null!=d&&(L(d)&&(d=K(d,c+(!d.key||h&&h.key===d.key?\"\":(\"\"+d.key).replace(M,\"$&/\")+\"/\")+a)),b.push(d)),1;h=0;e=\"\"===e?\".\":e+\":\";if(Array.isArray(a))for(var g=\n0;g<a.length;g++){k=a[g];var f=e+N(k,g);h+=O(k,b,c,f,d)}else if(f=y(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=e+N(k,g++),h+=O(k,b,c,f,d);else if(\"object\"===k)throw b=\"\"+a,Error(z(31,\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b));return h}function P(a,b,c){if(null==a)return a;var e=[],d=0;O(a,e,\"\",\"\",function(a){return b.call(c,a,d++)});return e}\nfunction Q(a){if(-1===a._status){var b=a._result;b=b();a._status=0;a._result=b;b.then(function(b){0===a._status&&(b=b.default,a._status=1,a._result=b)},function(b){0===a._status&&(a._status=2,a._result=b)})}if(1===a._status)return a._result;throw a._result;}var R={current:null};function S(){var a=R.current;if(null===a)throw Error(z(321));return a}var T={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:G,IsSomeRendererActing:{current:!1},assign:l};\nexports.Children={map:P,forEach:function(a,b,c){P(a,function(){b.apply(this,arguments)},c)},count:function(a){var b=0;P(a,function(){b++});return b},toArray:function(a){return P(a,function(a){return a})||[]},only:function(a){if(!L(a))throw Error(z(143));return a}};exports.Component=C;exports.PureComponent=E;exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T;\nexports.cloneElement=function(a,b,c){if(null===a||void 0===a)throw Error(z(267,a));var e=l({},a.props),d=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=G.current);void 0!==b.key&&(d=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)H.call(b,f)&&!I.hasOwnProperty(f)&&(e[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)e.children=c;else if(1<f){g=Array(f);for(var m=0;m<f;m++)g[m]=arguments[m+2];e.children=g}return{$$typeof:n,type:a.type,\nkey:d,ref:k,props:e,_owner:h}};exports.createContext=function(a,b){void 0===b&&(b=null);a={$$typeof:r,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider={$$typeof:q,_context:a};return a.Consumer=a};exports.createElement=J;exports.createFactory=function(a){var b=J.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};exports.forwardRef=function(a){return{$$typeof:t,render:a}};exports.isValidElement=L;\nexports.lazy=function(a){return{$$typeof:v,_payload:{_status:-1,_result:a},_init:Q}};exports.memo=function(a,b){return{$$typeof:u,type:a,compare:void 0===b?null:b}};exports.useCallback=function(a,b){return S().useCallback(a,b)};exports.useContext=function(a,b){return S().useContext(a,b)};exports.useDebugValue=function(){};exports.useEffect=function(a,b){return S().useEffect(a,b)};exports.useImperativeHandle=function(a,b,c){return S().useImperativeHandle(a,b,c)};\nexports.useLayoutEffect=function(a,b){return S().useLayoutEffect(a,b)};exports.useMemo=function(a,b){return S().useMemo(a,b)};exports.useReducer=function(a,b,c){return S().useReducer(a,b,c)};exports.useRef=function(a){return S().useRef(a)};exports.useState=function(a){return S().useState(a)};exports.version=\"17.0.2\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","export const encoder = new TextEncoder();\nexport const decoder = new TextDecoder();\nconst MAX_INT32 = 2 ** 32;\nexport function concat(...buffers) {\n    const size = buffers.reduce((acc, { length }) => acc + length, 0);\n    const buf = new Uint8Array(size);\n    let i = 0;\n    buffers.forEach((buffer) => {\n        buf.set(buffer, i);\n        i += buffer.length;\n    });\n    return buf;\n}\nexport function p2s(alg, p2sInput) {\n    return concat(encoder.encode(alg), new Uint8Array([0]), p2sInput);\n}\nfunction writeUInt32BE(buf, value, offset) {\n    if (value < 0 || value >= MAX_INT32) {\n        throw new RangeError(`value must be >= 0 and <= ${MAX_INT32 - 1}. Received ${value}`);\n    }\n    buf.set([value >>> 24, value >>> 16, value >>> 8, value & 0xff], offset);\n}\nexport function uint64be(value) {\n    const high = Math.floor(value / MAX_INT32);\n    const low = value % MAX_INT32;\n    const buf = new Uint8Array(8);\n    writeUInt32BE(buf, high, 0);\n    writeUInt32BE(buf, low, 4);\n    return buf;\n}\nexport function uint32be(value) {\n    const buf = new Uint8Array(4);\n    writeUInt32BE(buf, value);\n    return buf;\n}\nexport function lengthAndInput(input) {\n    return concat(uint32be(input.length), input);\n}\nexport async function concatKdf(digest, secret, bits, value) {\n    const iterations = Math.ceil((bits >> 3) / 32);\n    let res;\n    for (let iter = 1; iter <= iterations; iter++) {\n        const buf = new Uint8Array(4 + secret.length + value.length);\n        buf.set(uint32be(iter));\n        buf.set(secret, 4);\n        buf.set(value, 4 + secret.length);\n        if (!res) {\n            res = await digest('sha256', buf);\n        }\n        else {\n            res = concat(res, await digest('sha256', buf));\n        }\n    }\n    res = res.slice(0, bits >> 3);\n    return res;\n}\n","import { encoder, decoder } from '../lib/buffer_utils.js';\nexport const encodeBase64 = (input) => {\n    let unencoded = input;\n    if (typeof unencoded === 'string') {\n        unencoded = encoder.encode(unencoded);\n    }\n    const CHUNK_SIZE = 0x8000;\n    const arr = [];\n    for (let i = 0; i < unencoded.length; i += CHUNK_SIZE) {\n        arr.push(String.fromCharCode.apply(null, unencoded.subarray(i, i + CHUNK_SIZE)));\n    }\n    return btoa(arr.join(''));\n};\nexport const encode = (input) => {\n    return encodeBase64(input).replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n};\nexport const decodeBase64 = (encoded) => {\n    return new Uint8Array(atob(encoded)\n        .split('')\n        .map((c) => c.charCodeAt(0)));\n};\nexport const decode = (input) => {\n    let encoded = input;\n    if (encoded instanceof Uint8Array) {\n        encoded = decoder.decode(encoded);\n    }\n    encoded = encoded.replace(/-/g, '+').replace(/_/g, '/').replace(/\\s/g, '');\n    try {\n        return decodeBase64(encoded);\n    }\n    catch (_a) {\n        throw new TypeError('The input to be decoded is not correctly encoded.');\n    }\n};\n","export class JOSEError extends Error {\n    constructor(message) {\n        var _a;\n        super(message);\n        this.code = 'ERR_JOSE_GENERIC';\n        this.name = this.constructor.name;\n        (_a = Error.captureStackTrace) === null || _a === void 0 ? void 0 : _a.call(Error, this, this.constructor);\n    }\n    static get code() {\n        return 'ERR_JOSE_GENERIC';\n    }\n}\nexport class JWTClaimValidationFailed extends JOSEError {\n    constructor(message, claim = 'unspecified', reason = 'unspecified') {\n        super(message);\n        this.code = 'ERR_JWT_CLAIM_VALIDATION_FAILED';\n        this.claim = claim;\n        this.reason = reason;\n    }\n    static get code() {\n        return 'ERR_JWT_CLAIM_VALIDATION_FAILED';\n    }\n}\nexport class JWTExpired extends JOSEError {\n    constructor(message, claim = 'unspecified', reason = 'unspecified') {\n        super(message);\n        this.code = 'ERR_JWT_EXPIRED';\n        this.claim = claim;\n        this.reason = reason;\n    }\n    static get code() {\n        return 'ERR_JWT_EXPIRED';\n    }\n}\nexport class JOSEAlgNotAllowed extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JOSE_ALG_NOT_ALLOWED';\n    }\n    static get code() {\n        return 'ERR_JOSE_ALG_NOT_ALLOWED';\n    }\n}\nexport class JOSENotSupported extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JOSE_NOT_SUPPORTED';\n    }\n    static get code() {\n        return 'ERR_JOSE_NOT_SUPPORTED';\n    }\n}\nexport class JWEDecryptionFailed extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWE_DECRYPTION_FAILED';\n        this.message = 'decryption operation failed';\n    }\n    static get code() {\n        return 'ERR_JWE_DECRYPTION_FAILED';\n    }\n}\nexport class JWEInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWE_INVALID';\n    }\n    static get code() {\n        return 'ERR_JWE_INVALID';\n    }\n}\nexport class JWSInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWS_INVALID';\n    }\n    static get code() {\n        return 'ERR_JWS_INVALID';\n    }\n}\nexport class JWTInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWT_INVALID';\n    }\n    static get code() {\n        return 'ERR_JWT_INVALID';\n    }\n}\nexport class JWKInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWK_INVALID';\n    }\n    static get code() {\n        return 'ERR_JWK_INVALID';\n    }\n}\nexport class JWKSInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWKS_INVALID';\n    }\n    static get code() {\n        return 'ERR_JWKS_INVALID';\n    }\n}\nexport class JWKSNoMatchingKey extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWKS_NO_MATCHING_KEY';\n        this.message = 'no applicable key found in the JSON Web Key Set';\n    }\n    static get code() {\n        return 'ERR_JWKS_NO_MATCHING_KEY';\n    }\n}\nexport class JWKSMultipleMatchingKeys extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWKS_MULTIPLE_MATCHING_KEYS';\n        this.message = 'multiple matching keys found in the JSON Web Key Set';\n    }\n    static get code() {\n        return 'ERR_JWKS_MULTIPLE_MATCHING_KEYS';\n    }\n}\nexport class JWKSTimeout extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWKS_TIMEOUT';\n        this.message = 'request timed out';\n    }\n    static get code() {\n        return 'ERR_JWKS_TIMEOUT';\n    }\n}\nexport class JWSSignatureVerificationFailed extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWS_SIGNATURE_VERIFICATION_FAILED';\n        this.message = 'signature verification failed';\n    }\n    static get code() {\n        return 'ERR_JWS_SIGNATURE_VERIFICATION_FAILED';\n    }\n}\n","export default crypto;\nexport function isCryptoKey(key) {\n    try {\n        return (key != null &&\n            typeof key.extractable === 'boolean' &&\n            typeof key.algorithm.name === 'string' &&\n            typeof key.type === 'string');\n    }\n    catch (_a) {\n        return false;\n    }\n}\n","import crypto from './webcrypto.js';\nexport default crypto.getRandomValues.bind(crypto);\n","import { JOSENotSupported } from '../util/errors.js';\nimport random from '../runtime/random.js';\nexport function bitLength(alg) {\n    switch (alg) {\n        case 'A128GCM':\n        case 'A128GCMKW':\n        case 'A192GCM':\n        case 'A192GCMKW':\n        case 'A256GCM':\n        case 'A256GCMKW':\n            return 96;\n        case 'A128CBC-HS256':\n        case 'A192CBC-HS384':\n        case 'A256CBC-HS512':\n            return 128;\n        default:\n            throw new JOSENotSupported(`Unsupported JWE Algorithm: ${alg}`);\n    }\n}\nexport default (alg) => random(new Uint8Array(bitLength(alg) >> 3));\n","import { JWEInvalid } from '../util/errors.js';\nconst checkCekLength = (cek, expected) => {\n    if (cek.length << 3 !== expected) {\n        throw new JWEInvalid('Invalid Content Encryption Key length');\n    }\n};\nexport default checkCekLength;\n","import { isCryptoKey } from './webcrypto.js';\nexport default (key) => {\n    return isCryptoKey(key);\n};\nexport const types = ['CryptoKey'];\n","import { JOSENotSupported } from '../util/errors.js';\nexport const inflate = async () => {\n    throw new JOSENotSupported('JWE \"zip\" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `inflateRaw` decrypt option to provide Inflate Raw implementation.');\n};\nexport const deflate = async () => {\n    throw new JOSENotSupported('JWE \"zip\" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `deflateRaw` encrypt option to provide Deflate Raw implementation.');\n};\n","const bogusWebCrypto = [\n    { hash: 'SHA-256', name: 'HMAC' },\n    true,\n    ['sign'],\n];\nexport default bogusWebCrypto;\n","import { isCloudflareWorkers, isNodeJs } from '../runtime/env.js';\nfunction unusable(name, prop = 'algorithm.name') {\n    return new TypeError(`CryptoKey does not support this operation, its ${prop} must be ${name}`);\n}\nfunction isAlgorithm(algorithm, name) {\n    return algorithm.name === name;\n}\nfunction getHashLength(hash) {\n    return parseInt(hash.name.substr(4), 10);\n}\nfunction getNamedCurve(alg) {\n    switch (alg) {\n        case 'ES256':\n            return 'P-256';\n        case 'ES384':\n            return 'P-384';\n        case 'ES512':\n            return 'P-521';\n        default:\n            throw new Error('unreachable');\n    }\n}\nfunction checkUsage(key, usages) {\n    if (usages.length && !usages.some((expected) => key.usages.includes(expected))) {\n        let msg = 'CryptoKey does not support this operation, its usages must include ';\n        if (usages.length > 2) {\n            const last = usages.pop();\n            msg += `one of ${usages.join(', ')}, or ${last}.`;\n        }\n        else if (usages.length === 2) {\n            msg += `one of ${usages[0]} or ${usages[1]}.`;\n        }\n        else {\n            msg += `${usages[0]}.`;\n        }\n        throw new TypeError(msg);\n    }\n}\nexport function checkSigCryptoKey(key, alg, ...usages) {\n    switch (alg) {\n        case 'HS256':\n        case 'HS384':\n        case 'HS512': {\n            if (!isAlgorithm(key.algorithm, 'HMAC'))\n                throw unusable('HMAC');\n            const expected = parseInt(alg.substr(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'RS256':\n        case 'RS384':\n        case 'RS512': {\n            if (!isAlgorithm(key.algorithm, 'RSASSA-PKCS1-v1_5'))\n                throw unusable('RSASSA-PKCS1-v1_5');\n            const expected = parseInt(alg.substr(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'PS256':\n        case 'PS384':\n        case 'PS512': {\n            if (!isAlgorithm(key.algorithm, 'RSA-PSS'))\n                throw unusable('RSA-PSS');\n            const expected = parseInt(alg.substr(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case isNodeJs() && 'EdDSA': {\n            if (key.algorithm.name !== 'NODE-ED25519' && key.algorithm.name !== 'NODE-ED448')\n                throw unusable('NODE-ED25519 or NODE-ED448');\n            break;\n        }\n        case isCloudflareWorkers() && 'EdDSA': {\n            if (!isAlgorithm(key.algorithm, 'NODE-ED25519'))\n                throw unusable('NODE-ED25519');\n            break;\n        }\n        case 'ES256':\n        case 'ES384':\n        case 'ES512': {\n            if (!isAlgorithm(key.algorithm, 'ECDSA'))\n                throw unusable('ECDSA');\n            const expected = getNamedCurve(alg);\n            const actual = key.algorithm.namedCurve;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.namedCurve');\n            break;\n        }\n        default:\n            throw new TypeError('CryptoKey does not support this operation');\n    }\n    checkUsage(key, usages);\n}\nexport function checkEncCryptoKey(key, alg, ...usages) {\n    switch (alg) {\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM': {\n            if (!isAlgorithm(key.algorithm, 'AES-GCM'))\n                throw unusable('AES-GCM');\n            const expected = parseInt(alg.substr(1, 3), 10);\n            const actual = key.algorithm.length;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.length');\n            break;\n        }\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW': {\n            if (!isAlgorithm(key.algorithm, 'AES-KW'))\n                throw unusable('AES-KW');\n            const expected = parseInt(alg.substr(1, 3), 10);\n            const actual = key.algorithm.length;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.length');\n            break;\n        }\n        case 'ECDH-ES':\n            if (!isAlgorithm(key.algorithm, 'ECDH'))\n                throw unusable('ECDH');\n            break;\n        case 'PBES2-HS256+A128KW':\n        case 'PBES2-HS384+A192KW':\n        case 'PBES2-HS512+A256KW':\n            if (!isAlgorithm(key.algorithm, 'PBKDF2'))\n                throw unusable('PBKDF2');\n            break;\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512': {\n            if (!isAlgorithm(key.algorithm, 'RSA-OAEP'))\n                throw unusable('RSA-OAEP');\n            const expected = parseInt(alg.substr(9), 10) || 1;\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        default:\n            throw new TypeError('CryptoKey does not support this operation');\n    }\n    checkUsage(key, usages);\n}\n","export default (actual, ...types) => {\n    let msg = 'Key must be ';\n    if (types.length > 2) {\n        const last = types.pop();\n        msg += `one of type ${types.join(', ')}, or ${last}.`;\n    }\n    else if (types.length === 2) {\n        msg += `one of type ${types[0]} or ${types[1]}.`;\n    }\n    else {\n        msg += `of type ${types[0]}.`;\n    }\n    if (actual == null) {\n        msg += ` Received ${actual}`;\n    }\n    else if (typeof actual === 'function' && actual.name) {\n        msg += ` Received function ${actual.name}`;\n    }\n    else if (typeof actual === 'object' && actual != null) {\n        if (actual.constructor && actual.constructor.name) {\n            msg += ` Received an instance of ${actual.constructor.name}`;\n        }\n    }\n    return msg;\n};\n","import bogusWebCrypto from './bogus.js';\nimport crypto, { isCryptoKey } from './webcrypto.js';\nimport { checkEncCryptoKey } from '../lib/crypto_key.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { types } from './is_key_like.js';\nfunction checkKeySize(key, alg) {\n    if (key.algorithm.length !== parseInt(alg.substr(1, 3), 10)) {\n        throw new TypeError(`Invalid key size for alg: ${alg}`);\n    }\n}\nfunction getCryptoKey(key, alg, usage) {\n    if (isCryptoKey(key)) {\n        checkEncCryptoKey(key, alg, usage);\n        return key;\n    }\n    if (key instanceof Uint8Array) {\n        return crypto.subtle.importKey('raw', key, 'AES-KW', true, [usage]);\n    }\n    throw new TypeError(invalidKeyInput(key, ...types, 'Uint8Array'));\n}\nexport const wrap = async (alg, key, cek) => {\n    const cryptoKey = await getCryptoKey(key, alg, 'wrapKey');\n    checkKeySize(cryptoKey, alg);\n    const cryptoKeyCek = await crypto.subtle.importKey('raw', cek, ...bogusWebCrypto);\n    return new Uint8Array(await crypto.subtle.wrapKey('raw', cryptoKeyCek, cryptoKey, 'AES-KW'));\n};\nexport const unwrap = async (alg, key, encryptedKey) => {\n    const cryptoKey = await getCryptoKey(key, alg, 'unwrapKey');\n    checkKeySize(cryptoKey, alg);\n    const cryptoKeyCek = await crypto.subtle.unwrapKey('raw', encryptedKey, cryptoKey, 'AES-KW', ...bogusWebCrypto);\n    return new Uint8Array(await crypto.subtle.exportKey('raw', cryptoKeyCek));\n};\n","import crypto from './webcrypto.js';\nconst digest = async (algorithm, data) => {\n    const subtleDigest = `SHA-${algorithm.substr(-3)}`;\n    return new Uint8Array(await crypto.subtle.digest(subtleDigest, data));\n};\nexport default digest;\n","import { JOSENotSupported } from '../util/errors.js';\nexport default function subtleRsaEs(alg) {\n    switch (alg) {\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512':\n            return 'RSA-OAEP';\n        default:\n            throw new JOSENotSupported(`alg ${alg} is not supported either by JOSE or your javascript runtime`);\n    }\n}\n","import { JOSENotSupported } from '../util/errors.js';\nimport random from '../runtime/random.js';\nexport function bitLength(alg) {\n    switch (alg) {\n        case 'A128GCM':\n            return 128;\n        case 'A192GCM':\n            return 192;\n        case 'A256GCM':\n        case 'A128CBC-HS256':\n            return 256;\n        case 'A192CBC-HS384':\n            return 384;\n        case 'A256CBC-HS512':\n            return 512;\n        default:\n            throw new JOSENotSupported(`Unsupported JWE Algorithm: ${alg}`);\n    }\n}\nexport default (alg) => random(new Uint8Array(bitLength(alg) >> 3));\n","export function isCloudflareWorkers() {\n    return typeof WebSocketPair === 'function';\n}\nexport function isNodeJs() {\n    try {\n        return process.versions.node !== undefined;\n    }\n    catch (_a) {\n        return false;\n    }\n}\n","import { isCloudflareWorkers, isNodeJs } from './env.js';\nimport crypto from './webcrypto.js';\nimport { JOSENotSupported } from '../util/errors.js';\nimport { decode as base64url } from './base64url.js';\nfunction subtleMapping(jwk) {\n    let algorithm;\n    let keyUsages;\n    switch (jwk.kty) {\n        case 'oct': {\n            switch (jwk.alg) {\n                case 'HS256':\n                case 'HS384':\n                case 'HS512':\n                    algorithm = { name: 'HMAC', hash: `SHA-${jwk.alg.substr(-3)}` };\n                    keyUsages = ['sign', 'verify'];\n                    break;\n                case 'A128CBC-HS256':\n                case 'A192CBC-HS384':\n                case 'A256CBC-HS512':\n                    throw new JOSENotSupported(`${jwk.alg} keys cannot be imported as CryptoKey instances`);\n                case 'A128GCM':\n                case 'A192GCM':\n                case 'A256GCM':\n                case 'A128GCMKW':\n                case 'A192GCMKW':\n                case 'A256GCMKW':\n                    algorithm = { name: 'AES-GCM' };\n                    keyUsages = ['encrypt', 'decrypt'];\n                    break;\n                case 'A128KW':\n                case 'A192KW':\n                case 'A256KW':\n                    algorithm = { name: 'AES-KW' };\n                    keyUsages = ['wrapKey', 'unwrapKey'];\n                    break;\n                case 'PBES2-HS256+A128KW':\n                case 'PBES2-HS384+A192KW':\n                case 'PBES2-HS512+A256KW':\n                    algorithm = { name: 'PBKDF2' };\n                    keyUsages = ['deriveBits'];\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        case 'RSA': {\n            switch (jwk.alg) {\n                case 'PS256':\n                case 'PS384':\n                case 'PS512':\n                    algorithm = { name: 'RSA-PSS', hash: `SHA-${jwk.alg.substr(-3)}` };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'RS256':\n                case 'RS384':\n                case 'RS512':\n                    algorithm = { name: 'RSASSA-PKCS1-v1_5', hash: `SHA-${jwk.alg.substr(-3)}` };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'RSA-OAEP':\n                case 'RSA-OAEP-256':\n                case 'RSA-OAEP-384':\n                case 'RSA-OAEP-512':\n                    algorithm = {\n                        name: 'RSA-OAEP',\n                        hash: `SHA-${parseInt(jwk.alg.substr(-3), 10) || 1}`,\n                    };\n                    keyUsages = jwk.d ? ['decrypt', 'unwrapKey'] : ['encrypt', 'wrapKey'];\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        case 'EC': {\n            switch (jwk.alg) {\n                case 'ES256':\n                    algorithm = { name: 'ECDSA', namedCurve: 'P-256' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ES384':\n                    algorithm = { name: 'ECDSA', namedCurve: 'P-384' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ES512':\n                    algorithm = { name: 'ECDSA', namedCurve: 'P-521' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ECDH-ES':\n                case 'ECDH-ES+A128KW':\n                case 'ECDH-ES+A192KW':\n                case 'ECDH-ES+A256KW':\n                    algorithm = { name: 'ECDH', namedCurve: jwk.crv };\n                    keyUsages = jwk.d ? ['deriveBits'] : [];\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        case (isCloudflareWorkers() || isNodeJs()) && 'OKP':\n            if (jwk.alg !== 'EdDSA') {\n                throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            switch (jwk.crv) {\n                case 'Ed25519':\n                    algorithm = { name: 'NODE-ED25519', namedCurve: 'NODE-ED25519' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case isNodeJs() && 'Ed448':\n                    algorithm = { name: 'NODE-ED448', namedCurve: 'NODE-ED448' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported JWK \"crv\" (Subtype of Key Pair) Parameter value');\n            }\n            break;\n        default:\n            throw new JOSENotSupported('Invalid or unsupported JWK \"kty\" (Key Type) Parameter value');\n    }\n    return { algorithm, keyUsages };\n}\nconst parse = async (jwk) => {\n    var _a, _b;\n    const { algorithm, keyUsages } = subtleMapping(jwk);\n    const rest = [\n        algorithm,\n        (_a = jwk.ext) !== null && _a !== void 0 ? _a : false,\n        (_b = jwk.key_ops) !== null && _b !== void 0 ? _b : keyUsages,\n    ];\n    if (algorithm.name === 'PBKDF2') {\n        return crypto.subtle.importKey('raw', base64url(jwk.k), ...rest);\n    }\n    const keyData = { ...jwk };\n    delete keyData.alg;\n    return crypto.subtle.importKey('jwk', keyData, ...rest);\n};\nexport default parse;\n","import { concat, uint64be } from '../lib/buffer_utils.js';\nimport checkIvLength from '../lib/check_iv_length.js';\nimport checkCekLength from './check_cek_length.js';\nimport crypto, { isCryptoKey } from './webcrypto.js';\nimport { checkEncCryptoKey } from '../lib/crypto_key.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { JOSENotSupported } from '../util/errors.js';\nimport { types } from './is_key_like.js';\nasync function cbcEncrypt(enc, plaintext, cek, iv, aad) {\n    if (!(cek instanceof Uint8Array)) {\n        throw new TypeError(invalidKeyInput(cek, 'Uint8Array'));\n    }\n    const keySize = parseInt(enc.substr(1, 3), 10);\n    const encKey = await crypto.subtle.importKey('raw', cek.subarray(keySize >> 3), 'AES-CBC', false, ['encrypt']);\n    const macKey = await crypto.subtle.importKey('raw', cek.subarray(0, keySize >> 3), {\n        hash: `SHA-${keySize << 1}`,\n        name: 'HMAC',\n    }, false, ['sign']);\n    const ciphertext = new Uint8Array(await crypto.subtle.encrypt({\n        iv,\n        name: 'AES-CBC',\n    }, encKey, plaintext));\n    const macData = concat(aad, iv, ciphertext, uint64be(aad.length << 3));\n    const tag = new Uint8Array((await crypto.subtle.sign('HMAC', macKey, macData)).slice(0, keySize >> 3));\n    return { ciphertext, tag };\n}\nasync function gcmEncrypt(enc, plaintext, cek, iv, aad) {\n    let encKey;\n    if (cek instanceof Uint8Array) {\n        encKey = await crypto.subtle.importKey('raw', cek, 'AES-GCM', false, ['encrypt']);\n    }\n    else {\n        checkEncCryptoKey(cek, enc, 'encrypt');\n        encKey = cek;\n    }\n    const encrypted = new Uint8Array(await crypto.subtle.encrypt({\n        additionalData: aad,\n        iv,\n        name: 'AES-GCM',\n        tagLength: 128,\n    }, encKey, plaintext));\n    const tag = encrypted.slice(-16);\n    const ciphertext = encrypted.slice(0, -16);\n    return { ciphertext, tag };\n}\nconst encrypt = async (enc, plaintext, cek, iv, aad) => {\n    if (!isCryptoKey(cek) && !(cek instanceof Uint8Array)) {\n        throw new TypeError(invalidKeyInput(cek, ...types, 'Uint8Array'));\n    }\n    checkIvLength(enc, iv);\n    switch (enc) {\n        case 'A128CBC-HS256':\n        case 'A192CBC-HS384':\n        case 'A256CBC-HS512':\n            if (cek instanceof Uint8Array)\n                checkCekLength(cek, parseInt(enc.substr(-3), 10));\n            return cbcEncrypt(enc, plaintext, cek, iv, aad);\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM':\n            if (cek instanceof Uint8Array)\n                checkCekLength(cek, parseInt(enc.substr(1, 3), 10));\n            return gcmEncrypt(enc, plaintext, cek, iv, aad);\n        default:\n            throw new JOSENotSupported('Unsupported JWE Content Encryption Algorithm');\n    }\n};\nexport default encrypt;\n","import { JWEInvalid } from '../util/errors.js';\nimport { bitLength } from './iv.js';\nconst checkIvLength = (enc, iv) => {\n    if (iv.length << 3 !== bitLength(enc)) {\n        throw new JWEInvalid('Invalid Initialization Vector length');\n    }\n};\nexport default checkIvLength;\n","import { wrap as aesKw } from '../runtime/aeskw.js';\nimport * as ECDH from '../runtime/ecdhes.js';\nimport { encrypt as pbes2Kw } from '../runtime/pbes2kw.js';\nimport { encrypt as rsaEs } from '../runtime/rsaes.js';\nimport { encode as base64url } from '../runtime/base64url.js';\nimport generateCek, { bitLength as cekLength } from '../lib/cek.js';\nimport { JOSENotSupported } from '../util/errors.js';\nimport { exportJWK } from '../key/export.js';\nimport checkKeyType from './check_key_type.js';\nimport { wrap as aesGcmKw } from './aesgcmkw.js';\nasync function encryptKeyManagement(alg, enc, key, providedCek, providedParameters = {}) {\n    let encryptedKey;\n    let parameters;\n    let cek;\n    checkKeyType(alg, key, 'encrypt');\n    switch (alg) {\n        case 'dir': {\n            cek = key;\n            break;\n        }\n        case 'ECDH-ES':\n        case 'ECDH-ES+A128KW':\n        case 'ECDH-ES+A192KW':\n        case 'ECDH-ES+A256KW': {\n            if (!ECDH.ecdhAllowed(key)) {\n                throw new JOSENotSupported('ECDH-ES with the provided key is not allowed or not supported by your javascript runtime');\n            }\n            const { apu, apv } = providedParameters;\n            let { epk: ephemeralKey } = providedParameters;\n            ephemeralKey || (ephemeralKey = await ECDH.generateEpk(key));\n            const { x, y, crv, kty } = await exportJWK(ephemeralKey);\n            const sharedSecret = await ECDH.deriveKey(key, ephemeralKey, alg === 'ECDH-ES' ? enc : alg, alg === 'ECDH-ES' ? cekLength(enc) : parseInt(alg.substr(-5, 3), 10), apu, apv);\n            parameters = { epk: { x, y, crv, kty } };\n            if (apu)\n                parameters.apu = base64url(apu);\n            if (apv)\n                parameters.apv = base64url(apv);\n            if (alg === 'ECDH-ES') {\n                cek = sharedSecret;\n                break;\n            }\n            cek = providedCek || generateCek(enc);\n            const kwAlg = alg.substr(-6);\n            encryptedKey = await aesKw(kwAlg, sharedSecret, cek);\n            break;\n        }\n        case 'RSA1_5':\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512': {\n            cek = providedCek || generateCek(enc);\n            encryptedKey = await rsaEs(alg, key, cek);\n            break;\n        }\n        case 'PBES2-HS256+A128KW':\n        case 'PBES2-HS384+A192KW':\n        case 'PBES2-HS512+A256KW': {\n            cek = providedCek || generateCek(enc);\n            const { p2c, p2s } = providedParameters;\n            ({ encryptedKey, ...parameters } = await pbes2Kw(alg, key, cek, p2c, p2s));\n            break;\n        }\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW': {\n            cek = providedCek || generateCek(enc);\n            encryptedKey = await aesKw(alg, key, cek);\n            break;\n        }\n        case 'A128GCMKW':\n        case 'A192GCMKW':\n        case 'A256GCMKW': {\n            cek = providedCek || generateCek(enc);\n            const { iv } = providedParameters;\n            ({ encryptedKey, ...parameters } = await aesGcmKw(alg, key, cek, iv));\n            break;\n        }\n        default: {\n            throw new JOSENotSupported('Invalid or unsupported \"alg\" (JWE Algorithm) header value');\n        }\n    }\n    return { cek, encryptedKey, parameters };\n}\nexport default encryptKeyManagement;\n","import invalidKeyInput from './invalid_key_input.js';\nimport isKeyLike, { types } from '../runtime/is_key_like.js';\nconst symmetricTypeCheck = (key) => {\n    if (key instanceof Uint8Array)\n        return;\n    if (!isKeyLike(key)) {\n        throw new TypeError(invalidKeyInput(key, ...types, 'Uint8Array'));\n    }\n    if (key.type !== 'secret') {\n        throw new TypeError(`${types.join(' or ')} instances for symmetric algorithms must be of type \"secret\"`);\n    }\n};\nconst asymmetricTypeCheck = (key, usage) => {\n    if (!isKeyLike(key)) {\n        throw new TypeError(invalidKeyInput(key, ...types));\n    }\n    if (key.type === 'secret') {\n        throw new TypeError(`${types.join(' or ')} instances for asymmetric algorithms must not be of type \"secret\"`);\n    }\n    if (usage === 'sign' && key.type === 'public') {\n        throw new TypeError(`${types.join(' or ')} instances for asymmetric algorithm signing must be of type \"private\"`);\n    }\n    if (usage === 'decrypt' && key.type === 'public') {\n        throw new TypeError(`${types.join(' or ')} instances for asymmetric algorithm decryption must be of type \"private\"`);\n    }\n    if (key.algorithm && usage === 'verify' && key.type === 'private') {\n        throw new TypeError(`${types.join(' or ')} instances for asymmetric algorithm verifying must be of type \"public\"`);\n    }\n    if (key.algorithm && usage === 'encrypt' && key.type === 'private') {\n        throw new TypeError(`${types.join(' or ')} instances for asymmetric algorithm encryption must be of type \"public\"`);\n    }\n};\nconst checkKeyType = (alg, key, usage) => {\n    const symmetric = alg.startsWith('HS') ||\n        alg === 'dir' ||\n        alg.startsWith('PBES2') ||\n        /^A\\d{3}(?:GCM)?KW$/.test(alg);\n    if (symmetric) {\n        symmetricTypeCheck(key);\n    }\n    else {\n        asymmetricTypeCheck(key, usage);\n    }\n};\nexport default checkKeyType;\n","import { encoder, concat, uint32be, lengthAndInput, concatKdf } from '../lib/buffer_utils.js';\nimport crypto, { isCryptoKey } from './webcrypto.js';\nimport { checkEncCryptoKey } from '../lib/crypto_key.js';\nimport digest from './digest.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { types } from './is_key_like.js';\nexport const deriveKey = async (publicKey, privateKey, algorithm, keyLength, apu = new Uint8Array(0), apv = new Uint8Array(0)) => {\n    if (!isCryptoKey(publicKey)) {\n        throw new TypeError(invalidKeyInput(publicKey, ...types));\n    }\n    checkEncCryptoKey(publicKey, 'ECDH-ES');\n    if (!isCryptoKey(privateKey)) {\n        throw new TypeError(invalidKeyInput(privateKey, ...types));\n    }\n    checkEncCryptoKey(privateKey, 'ECDH-ES', 'deriveBits', 'deriveKey');\n    const value = concat(lengthAndInput(encoder.encode(algorithm)), lengthAndInput(apu), lengthAndInput(apv), uint32be(keyLength));\n    if (!privateKey.usages.includes('deriveBits')) {\n        throw new TypeError('ECDH-ES private key \"usages\" must include \"deriveBits\"');\n    }\n    const sharedSecret = new Uint8Array(await crypto.subtle.deriveBits({\n        name: 'ECDH',\n        public: publicKey,\n    }, privateKey, Math.ceil(parseInt(privateKey.algorithm.namedCurve.substr(-3), 10) / 8) <<\n        3));\n    return concatKdf(digest, sharedSecret, keyLength, value);\n};\nexport const generateEpk = async (key) => {\n    if (!isCryptoKey(key)) {\n        throw new TypeError(invalidKeyInput(key, ...types));\n    }\n    return (await crypto.subtle.generateKey({ name: 'ECDH', namedCurve: key.algorithm.namedCurve }, true, ['deriveBits'])).privateKey;\n};\nexport const ecdhAllowed = (key) => {\n    if (!isCryptoKey(key)) {\n        throw new TypeError(invalidKeyInput(key, ...types));\n    }\n    return ['P-256', 'P-384', 'P-521'].includes(key.algorithm.namedCurve);\n};\n","import { toSPKI as exportPublic } from '../runtime/asn1.js';\nimport { toPKCS8 as exportPrivate } from '../runtime/asn1.js';\nimport keyToJWK from '../runtime/key_to_jwk.js';\nexport async function exportSPKI(key) {\n    return exportPublic(key);\n}\nexport async function exportPKCS8(key) {\n    return exportPrivate(key);\n}\nexport async function exportJWK(key) {\n    return keyToJWK(key);\n}\n","import crypto, { isCryptoKey } from './webcrypto.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { encode as base64url } from './base64url.js';\nimport { types } from './is_key_like.js';\nconst keyToJWK = async (key) => {\n    if (key instanceof Uint8Array) {\n        return {\n            kty: 'oct',\n            k: base64url(key),\n        };\n    }\n    if (!isCryptoKey(key)) {\n        throw new TypeError(invalidKeyInput(key, ...types, 'Uint8Array'));\n    }\n    if (!key.extractable) {\n        throw new TypeError('non-extractable CryptoKey cannot be exported as a JWK');\n    }\n    const { ext, key_ops, alg, use, ...jwk } = await crypto.subtle.exportKey('jwk', key);\n    return jwk;\n};\nexport default keyToJWK;\n","import subtleAlgorithm from './subtle_rsaes.js';\nimport bogusWebCrypto from './bogus.js';\nimport crypto, { isCryptoKey } from './webcrypto.js';\nimport { checkEncCryptoKey } from '../lib/crypto_key.js';\nimport checkKeyLength from './check_key_length.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { types } from './is_key_like.js';\nexport const encrypt = async (alg, key, cek) => {\n    if (!isCryptoKey(key)) {\n        throw new TypeError(invalidKeyInput(key, ...types));\n    }\n    checkEncCryptoKey(key, alg, 'encrypt', 'wrapKey');\n    checkKeyLength(alg, key);\n    if (key.usages.includes('encrypt')) {\n        return new Uint8Array(await crypto.subtle.encrypt(subtleAlgorithm(alg), key, cek));\n    }\n    if (key.usages.includes('wrapKey')) {\n        const cryptoKeyCek = await crypto.subtle.importKey('raw', cek, ...bogusWebCrypto);\n        return new Uint8Array(await crypto.subtle.wrapKey('raw', cryptoKeyCek, key, subtleAlgorithm(alg)));\n    }\n    throw new TypeError('RSA-OAEP key \"usages\" must include \"encrypt\" or \"wrapKey\" for this operation');\n};\nexport const decrypt = async (alg, key, encryptedKey) => {\n    if (!isCryptoKey(key)) {\n        throw new TypeError(invalidKeyInput(key, ...types));\n    }\n    checkEncCryptoKey(key, alg, 'decrypt', 'unwrapKey');\n    checkKeyLength(alg, key);\n    if (key.usages.includes('decrypt')) {\n        return new Uint8Array(await crypto.subtle.decrypt(subtleAlgorithm(alg), key, encryptedKey));\n    }\n    if (key.usages.includes('unwrapKey')) {\n        const cryptoKeyCek = await crypto.subtle.unwrapKey('raw', encryptedKey, key, subtleAlgorithm(alg), ...bogusWebCrypto);\n        return new Uint8Array(await crypto.subtle.exportKey('raw', cryptoKeyCek));\n    }\n    throw new TypeError('RSA-OAEP key \"usages\" must include \"decrypt\" or \"unwrapKey\" for this operation');\n};\n","export default (alg, key) => {\n    if (alg.startsWith('RS') || alg.startsWith('PS')) {\n        const { modulusLength } = key.algorithm;\n        if (typeof modulusLength !== 'number' || modulusLength < 2048) {\n            throw new TypeError(`${alg} requires key modulusLength to be 2048 bits or larger`);\n        }\n    }\n};\n","import random from './random.js';\nimport { p2s as concatSalt } from '../lib/buffer_utils.js';\nimport { encode as base64url } from './base64url.js';\nimport { wrap, unwrap } from './aeskw.js';\nimport checkP2s from '../lib/check_p2s.js';\nimport crypto, { isCryptoKey } from './webcrypto.js';\nimport { checkEncCryptoKey } from '../lib/crypto_key.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { types } from './is_key_like.js';\nfunction getCryptoKey(key, alg) {\n    if (key instanceof Uint8Array) {\n        return crypto.subtle.importKey('raw', key, 'PBKDF2', false, ['deriveBits']);\n    }\n    if (isCryptoKey(key)) {\n        checkEncCryptoKey(key, alg, 'deriveBits', 'deriveKey');\n        return key;\n    }\n    throw new TypeError(invalidKeyInput(key, ...types, 'Uint8Array'));\n}\nasync function deriveKey(p2s, alg, p2c, key) {\n    checkP2s(p2s);\n    const salt = concatSalt(alg, p2s);\n    const keylen = parseInt(alg.substr(13, 3), 10);\n    const subtleAlg = {\n        hash: `SHA-${alg.substr(8, 3)}`,\n        iterations: p2c,\n        name: 'PBKDF2',\n        salt,\n    };\n    const wrapAlg = {\n        length: keylen,\n        name: 'AES-KW',\n    };\n    const cryptoKey = await getCryptoKey(key, alg);\n    if (cryptoKey.usages.includes('deriveBits')) {\n        return new Uint8Array(await crypto.subtle.deriveBits(subtleAlg, cryptoKey, keylen));\n    }\n    if (cryptoKey.usages.includes('deriveKey')) {\n        return crypto.subtle.deriveKey(subtleAlg, cryptoKey, wrapAlg, false, ['wrapKey', 'unwrapKey']);\n    }\n    throw new TypeError('PBKDF2 key \"usages\" must include \"deriveBits\" or \"deriveKey\"');\n}\nexport const encrypt = async (alg, key, cek, p2c = Math.floor(Math.random() * 2049) + 2048, p2s = random(new Uint8Array(16))) => {\n    const derived = await deriveKey(p2s, alg, p2c, key);\n    const encryptedKey = await wrap(alg.substr(-6), derived, cek);\n    return { encryptedKey, p2c, p2s: base64url(p2s) };\n};\nexport const decrypt = async (alg, key, encryptedKey, p2c, p2s) => {\n    const derived = await deriveKey(p2s, alg, p2c, key);\n    return unwrap(alg.substr(-6), derived, encryptedKey);\n};\n","import { JWEInvalid } from '../util/errors.js';\nexport default function checkP2s(p2s) {\n    if (!(p2s instanceof Uint8Array) || p2s.length < 8) {\n        throw new JWEInvalid('PBES2 Salt Input must be 8 or more octets');\n    }\n}\n","import encrypt from '../runtime/encrypt.js';\nimport decrypt from '../runtime/decrypt.js';\nimport generateIv from './iv.js';\nimport { encode as base64url } from '../runtime/base64url.js';\nexport async function wrap(alg, key, cek, iv) {\n    const jweAlgorithm = alg.substr(0, 7);\n    iv || (iv = generateIv(jweAlgorithm));\n    const { ciphertext: encryptedKey, tag } = await encrypt(jweAlgorithm, cek, key, iv, new Uint8Array(0));\n    return { encryptedKey, iv: base64url(iv), tag: base64url(tag) };\n}\nexport async function unwrap(alg, key, encryptedKey, iv, tag) {\n    const jweAlgorithm = alg.substr(0, 7);\n    return decrypt(jweAlgorithm, key, encryptedKey, iv, tag, new Uint8Array(0));\n}\n","import { encode as base64url } from '../../runtime/base64url.js';\nimport encrypt from '../../runtime/encrypt.js';\nimport { deflate } from '../../runtime/zlib.js';\nimport generateIv from '../../lib/iv.js';\nimport encryptKeyManagement from '../../lib/encrypt_key_management.js';\nimport { JOSENotSupported, JWEInvalid } from '../../util/errors.js';\nimport isDisjoint from '../../lib/is_disjoint.js';\nimport { encoder, decoder, concat } from '../../lib/buffer_utils.js';\nimport validateCrit from '../../lib/validate_crit.js';\nexport const unprotected = Symbol();\nexport class FlattenedEncrypt {\n    constructor(plaintext) {\n        if (!(plaintext instanceof Uint8Array)) {\n            throw new TypeError('plaintext must be an instance of Uint8Array');\n        }\n        this._plaintext = plaintext;\n    }\n    setKeyManagementParameters(parameters) {\n        if (this._keyManagementParameters) {\n            throw new TypeError('setKeyManagementParameters can only be called once');\n        }\n        this._keyManagementParameters = parameters;\n        return this;\n    }\n    setProtectedHeader(protectedHeader) {\n        if (this._protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    setSharedUnprotectedHeader(sharedUnprotectedHeader) {\n        if (this._sharedUnprotectedHeader) {\n            throw new TypeError('setSharedUnprotectedHeader can only be called once');\n        }\n        this._sharedUnprotectedHeader = sharedUnprotectedHeader;\n        return this;\n    }\n    setUnprotectedHeader(unprotectedHeader) {\n        if (this._unprotectedHeader) {\n            throw new TypeError('setUnprotectedHeader can only be called once');\n        }\n        this._unprotectedHeader = unprotectedHeader;\n        return this;\n    }\n    setAdditionalAuthenticatedData(aad) {\n        this._aad = aad;\n        return this;\n    }\n    setContentEncryptionKey(cek) {\n        if (this._cek) {\n            throw new TypeError('setContentEncryptionKey can only be called once');\n        }\n        this._cek = cek;\n        return this;\n    }\n    setInitializationVector(iv) {\n        if (this._iv) {\n            throw new TypeError('setInitializationVector can only be called once');\n        }\n        this._iv = iv;\n        return this;\n    }\n    async encrypt(key, options) {\n        if (!this._protectedHeader && !this._unprotectedHeader && !this._sharedUnprotectedHeader) {\n            throw new JWEInvalid('either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()');\n        }\n        if (!isDisjoint(this._protectedHeader, this._unprotectedHeader, this._sharedUnprotectedHeader)) {\n            throw new JWEInvalid('JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint');\n        }\n        const joseHeader = {\n            ...this._protectedHeader,\n            ...this._unprotectedHeader,\n            ...this._sharedUnprotectedHeader,\n        };\n        validateCrit(JWEInvalid, new Map(), options === null || options === void 0 ? void 0 : options.crit, this._protectedHeader, joseHeader);\n        if (joseHeader.zip !== undefined) {\n            if (!this._protectedHeader || !this._protectedHeader.zip) {\n                throw new JWEInvalid('JWE \"zip\" (Compression Algorithm) Header MUST be integrity protected');\n            }\n            if (joseHeader.zip !== 'DEF') {\n                throw new JOSENotSupported('Unsupported JWE \"zip\" (Compression Algorithm) Header Parameter value');\n            }\n        }\n        const { alg, enc } = joseHeader;\n        if (typeof alg !== 'string' || !alg) {\n            throw new JWEInvalid('JWE \"alg\" (Algorithm) Header Parameter missing or invalid');\n        }\n        if (typeof enc !== 'string' || !enc) {\n            throw new JWEInvalid('JWE \"enc\" (Encryption Algorithm) Header Parameter missing or invalid');\n        }\n        let encryptedKey;\n        if (alg === 'dir') {\n            if (this._cek) {\n                throw new TypeError('setContentEncryptionKey cannot be called when using Direct Encryption');\n            }\n        }\n        else if (alg === 'ECDH-ES') {\n            if (this._cek) {\n                throw new TypeError('setContentEncryptionKey cannot be called when using Direct Key Agreement');\n            }\n        }\n        let cek;\n        {\n            let parameters;\n            ({ cek, encryptedKey, parameters } = await encryptKeyManagement(alg, enc, key, this._cek, this._keyManagementParameters));\n            if (parameters) {\n                if (options && unprotected in options) {\n                    if (!this._unprotectedHeader) {\n                        this.setUnprotectedHeader(parameters);\n                    }\n                    else {\n                        this._unprotectedHeader = { ...this._unprotectedHeader, ...parameters };\n                    }\n                }\n                else {\n                    if (!this._protectedHeader) {\n                        this.setProtectedHeader(parameters);\n                    }\n                    else {\n                        this._protectedHeader = { ...this._protectedHeader, ...parameters };\n                    }\n                }\n            }\n        }\n        this._iv || (this._iv = generateIv(enc));\n        let additionalData;\n        let protectedHeader;\n        let aadMember;\n        if (this._protectedHeader) {\n            protectedHeader = encoder.encode(base64url(JSON.stringify(this._protectedHeader)));\n        }\n        else {\n            protectedHeader = encoder.encode('');\n        }\n        if (this._aad) {\n            aadMember = base64url(this._aad);\n            additionalData = concat(protectedHeader, encoder.encode('.'), encoder.encode(aadMember));\n        }\n        else {\n            additionalData = protectedHeader;\n        }\n        let ciphertext;\n        let tag;\n        if (joseHeader.zip === 'DEF') {\n            const deflated = await ((options === null || options === void 0 ? void 0 : options.deflateRaw) || deflate)(this._plaintext);\n            ({ ciphertext, tag } = await encrypt(enc, deflated, cek, this._iv, additionalData));\n        }\n        else {\n            ;\n            ({ ciphertext, tag } = await encrypt(enc, this._plaintext, cek, this._iv, additionalData));\n        }\n        const jwe = {\n            ciphertext: base64url(ciphertext),\n            iv: base64url(this._iv),\n            tag: base64url(tag),\n        };\n        if (encryptedKey) {\n            jwe.encrypted_key = base64url(encryptedKey);\n        }\n        if (aadMember) {\n            jwe.aad = aadMember;\n        }\n        if (this._protectedHeader) {\n            jwe.protected = decoder.decode(protectedHeader);\n        }\n        if (this._sharedUnprotectedHeader) {\n            jwe.unprotected = this._sharedUnprotectedHeader;\n        }\n        if (this._unprotectedHeader) {\n            jwe.header = this._unprotectedHeader;\n        }\n        return jwe;\n    }\n}\n","const isDisjoint = (...headers) => {\n    const sources = headers.filter(Boolean);\n    if (sources.length === 0 || sources.length === 1) {\n        return true;\n    }\n    let acc;\n    for (const header of sources) {\n        const parameters = Object.keys(header);\n        if (!acc || acc.size === 0) {\n            acc = new Set(parameters);\n            continue;\n        }\n        for (const parameter of parameters) {\n            if (acc.has(parameter)) {\n                return false;\n            }\n            acc.add(parameter);\n        }\n    }\n    return true;\n};\nexport default isDisjoint;\n","import { JOSENotSupported } from '../util/errors.js';\nfunction validateCrit(Err, recognizedDefault, recognizedOption, protectedHeader, joseHeader) {\n    if (joseHeader.crit !== undefined && protectedHeader.crit === undefined) {\n        throw new Err('\"crit\" (Critical) Header Parameter MUST be integrity protected');\n    }\n    if (!protectedHeader || protectedHeader.crit === undefined) {\n        return new Set();\n    }\n    if (!Array.isArray(protectedHeader.crit) ||\n        protectedHeader.crit.length === 0 ||\n        protectedHeader.crit.some((input) => typeof input !== 'string' || input.length === 0)) {\n        throw new Err('\"crit\" (Critical) Header Parameter MUST be an array of non-empty strings when present');\n    }\n    let recognized;\n    if (recognizedOption !== undefined) {\n        recognized = new Map([...Object.entries(recognizedOption), ...recognizedDefault.entries()]);\n    }\n    else {\n        recognized = recognizedDefault;\n    }\n    for (const parameter of protectedHeader.crit) {\n        if (!recognized.has(parameter)) {\n            throw new JOSENotSupported(`Extension Header Parameter \"${parameter}\" is not recognized`);\n        }\n        if (joseHeader[parameter] === undefined) {\n            throw new Err(`Extension Header Parameter \"${parameter}\" is missing`);\n        }\n        else if (recognized.get(parameter) && protectedHeader[parameter] === undefined) {\n            throw new Err(`Extension Header Parameter \"${parameter}\" MUST be integrity protected`);\n        }\n    }\n    return new Set(protectedHeader.crit);\n}\nexport default validateCrit;\n","import { FlattenedEncrypt } from '../flattened/encrypt.js';\nexport class CompactEncrypt {\n    constructor(plaintext) {\n        this._flattened = new FlattenedEncrypt(plaintext);\n    }\n    setContentEncryptionKey(cek) {\n        this._flattened.setContentEncryptionKey(cek);\n        return this;\n    }\n    setInitializationVector(iv) {\n        this._flattened.setInitializationVector(iv);\n        return this;\n    }\n    setProtectedHeader(protectedHeader) {\n        this._flattened.setProtectedHeader(protectedHeader);\n        return this;\n    }\n    setKeyManagementParameters(parameters) {\n        this._flattened.setKeyManagementParameters(parameters);\n        return this;\n    }\n    async encrypt(key, options) {\n        const jwe = await this._flattened.encrypt(key, options);\n        return [jwe.protected, jwe.encrypted_key, jwe.iv, jwe.ciphertext, jwe.tag].join('.');\n    }\n}\n","import { importJWK, CompactEncrypt } from \"jose\";\nimport { JweCid, SyfrJwk } from \"./types\";\n\n/**\n * Parse the JWK to a CryptoKey and store both in the keychain\n * @see https://github.com/panva/jose/blob/main/docs/functions/key_import.importJWK.md#readme\n */\nexport async function keyFromJwk(jwk: SyfrJwk) {\n  let key = (await importJWK(jwk, jwk.alg)) as CryptoKey;\n  return key;\n}\n\n/**\n * Returns a compactJwe string\n * @see https://www.rfc-editor.org/rfc/rfc7516.html#section-4.1.12\n * @see https://github.com/panva/jose/blob/main/docs/classes/jwe_compact_encrypt.CompactEncrypt.md#readme\n */\nexport async function makeCompactJwe(\n  jwk: SyfrJwk,\n  key: CryptoKey,\n  cty: string,\n  byteArr: Uint8Array,\n  cids?: JweCid[]\n) {\n  let protectedHeader = {\n    alg: jwk.alg,\n    enc: \"A256GCM\",\n    kid: jwk.kid,\n    cty,\n    cids,\n  };\n  cids ?? delete protectedHeader.cids;\n  let jwe = await new CompactEncrypt(byteArr)\n    .setProtectedHeader(protectedHeader)\n    .encrypt(key);\n  return jwe;\n}\n","import {\n  SyfrDebugEvent,\n  SyfrValidEvent,\n  SyfrRequestEvent,\n  SyfrTransmitEvent,\n} from \"./types\";\n\n/**\n * Each static function creates a CustomEvent and immediately dispatches\n * These should be called by SyfrForm according to the timing indicated\n * @see https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent\n * @see https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest#events\n * @see SyfrForm\n *\n * @example\n * window.addEventListener(\"DOMContentLoaded\", (event) => {\n *\n * // automatically attempt to use Syfr for all forms on the page\n * Array.from(document.forms).forEach((form) => {\n *\n *   // output debug events so you can see what is happening on the form\n *   form.addEventListener(\"debug\", (event) => {\n *     console.log(\"debugEvent\", event.detail);\n *   });\n *\n *   // output the data being sent to Syfr\n *   form.addEventListener(\"protect\", (event) => {\n *     console.log(\"protectEvent\", event.detail);\n *     // or perhaps activate a lock icon on the form that shows the encryption seal\n *   });\n *\n *   // get the XMLHttpRequest to monitor those events on this form\n *   form.addEventListener(\"request\", (event) => {\n *     for (var key in event.detail) {\n *\n *       // output ALL events emitted from XMLHttpRequest for this form\n *       if (key.search(\"on\") === 0) {\n *         event.detail.addEventListener(key.slice(2), (event) => {\n *           console.log(\"XHR Event\", event);\n *           // or perhaps show the % uploaded in a progress bar\n *           // or perhaps change submit button to a spinner from `loadstart` until `loadend`\n *         });\n *       }\n *     }\n *   });\n *\n *   // output the data being sent to Syfr\n *   form.addEventListener(\"transmit\", (event) => {\n *     console.log(\"transmitEvent\", event.detail);\n *     // generaully this should not be used\n *   });\n * });\n * });\n *\n * @note to set custom validation constraints:\n * @example\n * let myForm = document.getElementById(\"myForm\") // to manage a specific form\n * let lastName = document.getElementById(\"last-name\");\n * if(lastName.value instanceOf number){\n *   lastName.setCustomValidity(\"Cannot be a number\");\n *   myForm.querySelector('[type=\"submit\"]').toggleAttribute(\"disabled\");\n * }\n *\n * @note perhaps disable submit by default and enable when form is in a valid state\n * @see https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Constraint_validation\n */\nexport class SyfrEvent {\n  static debug(form: HTMLFormElement, detail: SyfrDebugEvent[\"detail\"]) {\n    form.dispatchEvent(new CustomEvent(\"debug\", { detail }) as SyfrDebugEvent);\n  }\n\n  static valid(form: HTMLFormElement, detail?: SyfrValidEvent[\"detail\"]) {\n    form.dispatchEvent(new CustomEvent(\"valid\", { detail }) as SyfrValidEvent);\n  }\n\n  static transmit(form: HTMLFormElement, detail: SyfrTransmitEvent[\"detail\"]) {\n    form.dispatchEvent(\n      new CustomEvent(\"transmit\", { detail }) as SyfrTransmitEvent\n    );\n  }\n\n  static request(form: HTMLFormElement, detail: SyfrRequestEvent[\"detail\"]) {\n    form.dispatchEvent(\n      new CustomEvent(\"request\", { detail }) as SyfrRequestEvent\n    );\n  }\n}\n","import { keyFromJwk, makeCompactJwe } from \"./encrypt\";\nimport { SyfrEvent } from \"./event\";\nimport { fetchJwk, pushToApi } from \"./request\";\nimport {\n  CompactJwe,\n  FileJweMeta,\n  JweCid,\n  JweMap,\n  SyfrFormId,\n  SyfrJweContent,\n  SyfrJwk,\n} from \"./types\";\n\n/**\n * Automatically initialized when script is included.\n * Use event listeners to enhance user experience\n * @see SyfrEvent\n */\nexport class SyfrClass {\n  id: SyfrFormId; // the UUID of the form in Syfr\n  form: HTMLFormElement; // the DOM representation of the form\n  pubKey?: CryptoKey; // the CryptoKey from the JWK to encrypt the formdata\n  pubJwk?: SyfrJwk; // the JWK from Syfr to encrypt the formdata\n  jwes: JweMap = {}; // the JWEs which will be submitted to Syfr\n  loading: boolean = false;\n\n  constructor(\n    form: SyfrClass[\"form\"],\n    syfrId?: SyfrFormId,\n    anchor?: HTMLAnchorElement\n  ) {\n    this.form = form;\n    this.id = syfrId ?? form.dataset.syfrId ?? \"\";\n    this.idCheck() && this.linkCheck(anchor) && this.autoSubmit();\n  }\n\n  idCheck() {\n    if (this.id === undefined) {\n      SyfrEvent.debug(this.form, {\n        form: this.form,\n        message: \"Ignoring; no data-syfr-id attribute\",\n      });\n      return false;\n    }\n    return true;\n  }\n\n  linkCheck(anchor?: HTMLAnchorElement) {\n    let href = `https://syfr.app/validate/${this.id}`;\n    let linkEl = anchor ?? this.form.querySelector(\"[data-syfr-validate]\");\n    let issues = {\n      ...(!linkEl && {\n        linkMissing: { got: linkEl, want: `<a data-syfr-validate ...` },\n      }),\n      ...(!(linkEl instanceof HTMLAnchorElement) && {\n        linkHref: { got: linkEl, want: `<a href='${href}' ...` },\n      }),\n      ...(!this.form.contains(linkEl) && {\n        linkWithinForm: { got: false, want: true },\n      }),\n      ...(!this.id.match(\n        /^[0-9A-F]{8}-[0-9A-F]{4}-[4][0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i\n      ) && { syfrId: { got: this.id, want: \"a valid uuid from Syfr\" } }),\n    };\n    if (Object.keys(issues).length < 1 && linkEl instanceof HTMLAnchorElement) {\n      let cs = getComputedStyle(linkEl);\n      let pf = parseFloat;\n      let px = pf(cs.paddingLeft) + pf(cs.paddingRight);\n      let py = pf(cs.paddingTop) + pf(cs.paddingBottom);\n      let bx = pf(cs.borderLeftWidth) + pf(cs.borderRightWidth);\n      let by = pf(cs.borderTopWidth) + pf(cs.borderBottomWidth);\n      let heightPx = linkEl.offsetHeight - px - bx;\n      let widthPx = linkEl.offsetWidth - py - by;\n      let areaPx = heightPx * widthPx;\n      let fontSizePx = pf(cs.fontSize);\n      issues = {\n        ...issues,\n        ...(linkEl.offsetParent === null && {\n          validationLinkIsHidden: { got: true, want: false },\n        }),\n        ...(linkEl.href != href && {\n          validationLinkHref: { got_: linkEl.href, want: href },\n        }),\n        ...(linkEl.relList.contains(\"nofollow\") && {\n          validationLinkIsNofollow: { got: true, want: false },\n        }),\n        ...(linkEl.relList.contains(\"noreferrer\") && {\n          validationLinkIsNoreferrer: { got: true, want: false },\n        }),\n        ...(areaPx < 1536 && {\n          validationLinkArea: { got: areaPx, want: 1536 },\n        }),\n        ...(fontSizePx < 8 && {\n          validationLinkFontSizePx: { got: fontSizePx, want: \"8px+\" },\n        }),\n      };\n    }\n    if (Object.keys(issues).length > 0) {\n      throw {\n        form: this.form,\n        link: linkEl,\n        issues,\n        error: `We can't protect your form because of the issues listed`,\n        seeDocs: \"https://syfr.app/docs/validation\",\n      };\n    }\n    return true;\n  }\n\n  async getJwk() {\n    if (this.pubJwk) {\n      return this.pubJwk;\n    }\n    try {\n      return await fetchJwk(this.id);\n    } catch (e) {\n      throw {\n        syfrId: this.id,\n        error: \"Bad data-syfr-id or couldn't get pubKey\",\n      };\n    }\n  }\n\n  async getKey() {\n    if (this.pubKey) {\n      return this.pubKey;\n    }\n    let pubJwk = await this.getJwk();\n    this.pubKey = await keyFromJwk(pubJwk);\n    SyfrEvent.valid(this.form, {\n      id: this.id,\n      validateUrl: `https://syfr.app/validate/${this.id}`,\n    });\n    SyfrEvent.debug(this.form, {\n      id: this.id,\n      formPubKey: this.pubKey,\n      message:\n        \"use addEventListener('protected',(event)=>{...} to notify your users of the protection\",\n    });\n    return this.pubKey;\n  }\n\n  /**\n   * Listens for the form submit (the SubmitEvent only fires if it succeeds validation)\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLFormElement/submit_event\n   */\n  autoSubmit() {\n    SyfrEvent.debug(this.form, {\n      message: \"Initializing SyfrClass\",\n      syfrId: this.id,\n      form: this.form,\n    });\n    this.getKey();\n    this.form.addEventListener(\"submit\", async (event: SubmitEvent) => {\n      event.preventDefault();\n      event.stopImmediatePropagation();\n      event.stopPropagation();\n      if (this.loading) {\n        SyfrEvent.debug(this.form, \"Ignored duplicate submission.\");\n        return;\n      }\n      this.loading = true;\n      await this.submit();\n      this.form.reset();\n      this.jwes = {};\n      this.loading = false;\n    });\n  }\n\n  async submit() {\n    this.pubKey || (await this.getKey());\n    await this.buildEntry();\n    await this.sendToSyfr();\n  }\n\n  async buildEntry() {\n    let code = this.getCode();\n    let data = await this.getData();\n    await this.buildRootJwe({ code, data });\n  }\n\n  /**\n   * Serialize the form HTML to a string\n   * already considered and rejected https://developer.mozilla.org/en-US/docs/Web/API/DOMParser\n   */\n  getCode() {\n    return new XMLSerializer()\n      .serializeToString(this.form)\n      .replace(/\\s{2,}/g, \" \"); //remove extra spacing\n  }\n\n  async getData() {\n    let srcFormData = new FormData(this.form);\n    let result: SyfrJweContent[\"data\"] = {};\n    for (let fieldName of srcFormData.keys()) {\n      if (fieldName in result) {\n        continue; //skip duplicate key (ex: a field can have multiple files using same key)\n      }\n      let fieldArr = srcFormData.getAll(fieldName);\n      let parsed = await this.getParsedFieldArr(fieldArr);\n      // use srcFormData to determine if output should be an array\n      result[fieldName] = fieldArr.length > 1 ? parsed : parsed[0];\n    }\n    return result;\n  }\n\n  async buildRootJwe(stringifiableObj: object) {\n    const pubJwk = await this.getJwk();\n    const pubKey = await this.getKey();\n    const byteArr = new TextEncoder().encode(JSON.stringify(stringifiableObj));\n    const rootJwe = await makeCompactJwe(\n      pubJwk,\n      pubKey,\n      \"application/json\",\n      byteArr,\n      Object.keys(this.jwes)\n    );\n    this.jwes[this.jweToCid(rootJwe)] = rootJwe;\n  }\n\n  async getParsedFieldArr(fieldArr: FormDataEntryValue[]) {\n    let response = [];\n    for (let field of fieldArr) {\n      response.push(await this.getParsedField(field));\n    }\n    return response;\n  }\n\n  async getParsedField(field: FormDataEntryValue) {\n    return field instanceof File ? await this.processFile(field) : field;\n  }\n\n  async processFile(file: File) {\n    const pubJwk = await this.getJwk();\n    const pubKey = await this.getKey();\n    if (file.size > 0) {\n      let fileJwe = await makeCompactJwe(\n        pubJwk,\n        pubKey,\n        file.type,\n        await this.fileToUint8(file)\n      );\n      this.jwes[this.jweToCid(fileJwe)] = fileJwe;\n      return this.fileToMeta(file, fileJwe);\n    }\n  }\n\n  async fileToUint8(file: File) {\n    let buf = await file.arrayBuffer();\n    return new Uint8Array(buf);\n  }\n\n  /**\n   * Drops file streams (no .t`ex`t(), no .arrayBuffer(), .etc)\n   */\n  fileToMeta(file: File, jwe: CompactJwe) {\n    let { name, lastModified, type } = file;\n    let fileJweMeta: FileJweMeta = {\n      name,\n      lastModified,\n      type,\n      cids: [this.jweToCid(jwe)], // plural for future chunking.\n    };\n    return fileJweMeta;\n  }\n\n  jweToCid(jwe: CompactJwe): JweCid {\n    let response = jwe.split(\".\")[4];\n    if (!response) throw \"Provided JWE was invalid\";\n    return response;\n  }\n\n  async sendToSyfr() {\n    let payload = new FormData();\n    Object.values(this.jwes).forEach((jwe) => {\n      payload.append(\"compactJwe\", jwe);\n    });\n    SyfrEvent.transmit(this.form, { jwes: this.jwes, payload });\n    SyfrEvent.debug(this.form, {\n      message: \"Sending to Syfr:\",\n      jwes: this.jwes,\n      payload,\n    });\n    await pushToApi(payload, this.form);\n  }\n}\n","import { SyfrJwk } from \"./types\";\n\n/**\n * @see https://github.com/syfrapp/api/issues/101\n */\nexport async function fetchJwk(id: string) {\n  let response = await fetch(\n    \"https://develop-api.syfr.app/rest/pub/form/\" + id,\n    { method: \"GET\", mode: \"no-cors\" }\n  );\n  let result = await response.json();\n  return result.publicJwk as SyfrJwk;\n}\n\n/**\n * @see https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest\n * @see https://github.com/syfrapp/api/issues/103\n */\nexport async function pushToApi(payload: FormData, form: HTMLFormElement) {\n  let request = new XMLHttpRequest();\n  form.dispatchEvent(new CustomEvent(\"request\", { detail: request }));\n  request.open(\"POST\", \"https://develop-api.syfr.app/rest/pub/entry\");\n  request.send(payload);\n}\n","import { decode as decodeBase64URL, encodeBase64, decodeBase64 } from '../runtime/base64url.js';\nimport { fromSPKI as importPublic } from '../runtime/asn1.js';\nimport { fromPKCS8 as importPrivate } from '../runtime/asn1.js';\nimport asKeyObject from '../runtime/jwk_to_key.js';\nimport { JOSENotSupported } from '../util/errors.js';\nimport formatPEM from '../lib/format_pem.js';\nimport isObject from '../lib/is_object.js';\nfunction getElement(seq) {\n    let result = [];\n    let next = 0;\n    while (next < seq.length) {\n        let nextPart = parseElement(seq.subarray(next));\n        result.push(nextPart);\n        next += nextPart.byteLength;\n    }\n    return result;\n}\nfunction parseElement(bytes) {\n    let position = 0;\n    let tag = bytes[0] & 0x1f;\n    position++;\n    if (tag === 0x1f) {\n        tag = 0;\n        while (bytes[position] >= 0x80) {\n            tag = tag * 128 + bytes[position] - 0x80;\n            position++;\n        }\n        tag = tag * 128 + bytes[position] - 0x80;\n        position++;\n    }\n    let length = 0;\n    if (bytes[position] < 0x80) {\n        length = bytes[position];\n        position++;\n    }\n    else {\n        let numberOfDigits = bytes[position] & 0x7f;\n        position++;\n        length = 0;\n        for (let i = 0; i < numberOfDigits; i++) {\n            length = length * 256 + bytes[position];\n            position++;\n        }\n    }\n    if (length === 0x80) {\n        length = 0;\n        while (bytes[position + length] !== 0 || bytes[position + length + 1] !== 0) {\n            length++;\n        }\n        const byteLength = position + length + 2;\n        return {\n            byteLength,\n            contents: bytes.subarray(position, position + length),\n            raw: bytes.subarray(0, byteLength),\n        };\n    }\n    const byteLength = position + length;\n    return {\n        byteLength,\n        contents: bytes.subarray(position, byteLength),\n        raw: bytes.subarray(0, byteLength),\n    };\n}\nfunction spkiFromX509(buf) {\n    const tbsCertificate = getElement(getElement(parseElement(buf).contents)[0].contents);\n    return encodeBase64(tbsCertificate[tbsCertificate[0].raw[0] === 0xa0 ? 6 : 5].raw);\n}\nfunction getSPKI(x509) {\n    const pem = x509.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\\s)/g, '');\n    const raw = decodeBase64(pem);\n    return formatPEM(spkiFromX509(raw), 'PUBLIC KEY');\n}\nexport async function importSPKI(spki, alg, options) {\n    if (typeof spki !== 'string' || spki.indexOf('-----BEGIN PUBLIC KEY-----') !== 0) {\n        throw new TypeError('\"spki\" must be SPKI formatted string');\n    }\n    return importPublic(spki, alg, options);\n}\nexport async function importX509(x509, alg, options) {\n    if (typeof x509 !== 'string' || x509.indexOf('-----BEGIN CERTIFICATE-----') !== 0) {\n        throw new TypeError('\"x509\" must be X.509 formatted string');\n    }\n    const spki = getSPKI(x509);\n    return importPublic(spki, alg, options);\n}\nexport async function importPKCS8(pkcs8, alg, options) {\n    if (typeof pkcs8 !== 'string' || pkcs8.indexOf('-----BEGIN PRIVATE KEY-----') !== 0) {\n        throw new TypeError('\"pkcs8\" must be PCKS8 formatted string');\n    }\n    return importPrivate(pkcs8, alg, options);\n}\nexport async function importJWK(jwk, alg, octAsKeyObject) {\n    if (!isObject(jwk)) {\n        throw new TypeError('JWK must be an object');\n    }\n    alg || (alg = jwk.alg);\n    if (typeof alg !== 'string' || !alg) {\n        throw new TypeError('\"alg\" argument is required when \"jwk.alg\" is not present');\n    }\n    switch (jwk.kty) {\n        case 'oct':\n            if (typeof jwk.k !== 'string' || !jwk.k) {\n                throw new TypeError('missing \"k\" (Key Value) Parameter value');\n            }\n            octAsKeyObject !== null && octAsKeyObject !== void 0 ? octAsKeyObject : (octAsKeyObject = jwk.ext !== true);\n            if (octAsKeyObject) {\n                return asKeyObject({ ...jwk, alg, ext: false });\n            }\n            return decodeBase64URL(jwk.k);\n        case 'RSA':\n            if (jwk.oth !== undefined) {\n                throw new JOSENotSupported('RSA JWK \"oth\" (Other Primes Info) Parameter value is not supported');\n            }\n        case 'EC':\n        case 'OKP':\n            return asKeyObject({ ...jwk, alg });\n        default:\n            throw new JOSENotSupported('Unsupported \"kty\" (Key Type) Parameter value');\n    }\n}\n","function isObjectLike(value) {\n    return typeof value === 'object' && value !== null;\n}\nexport default function isObject(input) {\n    if (!isObjectLike(input) || Object.prototype.toString.call(input) !== '[object Object]') {\n        return false;\n    }\n    if (Object.getPrototypeOf(input) === null) {\n        return true;\n    }\n    let proto = input;\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(input) === proto;\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import React from \"react\";\nimport { SyfrClass } from \"./class\";\nimport { SyfrFormId } from \"./types\";\n\ntype ReactFormProps = React.DetailedHTMLProps<\n  React.FormHTMLAttributes<HTMLFormElement>,\n  HTMLFormElement\n>;\nexport type SyfrFormProps = { id: SyfrFormId } & ReactFormProps;\n\nexport function SyfrForm({ id, action, ...props }: SyfrFormProps) {\n  const ref = React.useRef<HTMLFormElement>(null);\n  if (!!ref.current) new SyfrClass(ref.current, id);\n  // iOS needs an \"action\" attribute for nice input: https://stackoverflow.com/a/39485162/406725\n  const _action = action ?? \"#\";\n  return <form ref={ref} action={_action} {...props} />;\n}\n"],"names":["getOwnPropertySymbols","Object","hasOwnProperty","prototype","propIsEnumerable","propertyIsEnumerable","toObject","val","TypeError","module","exports","assign","test1","String","getOwnPropertyNames","test2","i","fromCharCode","map","n","join","test3","split","forEach","letter","keys","err","shouldUseNative","target","source","from","symbols","to","s","arguments","length","key","call","l","p","Fragment","StrictMode","Profiler","q","r","t","Suspense","u","v","Symbol","for","w","x","iterator","z","a","b","c","encodeURIComponent","A","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","B","C","this","props","context","refs","updater","D","E","isReactComponent","setState","Error","forceUpdate","F","constructor","isPureReactComponent","G","current","H","I","ref","__self","__source","J","e","d","k","h","g","children","f","Array","m","defaultProps","$$typeof","type","_owner","L","M","N","replace","escape","toString","O","isArray","K","push","y","next","done","value","P","Q","_status","_result","then","default","R","S","T","ReactCurrentDispatcher","ReactCurrentBatchConfig","transition","ReactCurrentOwner","IsSomeRendererActing","Children","apply","count","toArray","only","Component","PureComponent","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","cloneElement","createContext","_calculateChangedBits","_currentValue","_currentValue2","_threadCount","Provider","Consumer","_context","createElement","createFactory","bind","createRef","forwardRef","render","isValidElement","lazy","_payload","_init","memo","compare","useCallback","useContext","useDebugValue","useEffect","useImperativeHandle","useLayoutEffect","useMemo","useReducer","useRef","useState","version","TextEncoder","TextDecoder","MAX_INT32","buffers","size","reduce","acc","buf","Uint8Array","buffer","set","writeUInt32BE","offset","RangeError","uint32be","lengthAndInput","input","encode","unencoded","arr","subarray","btoa","decode","encoded","atob","charCodeAt","_a","message","super","code","name","captureStackTrace","extractable","algorithm","bitLength","alg","cek","expected","deflate","async","hash","unusable","prop","isAlgorithm","usages","parseInt","substr","some","includes","msg","last","pop","checkUsage","actual","types","wrap","cryptoKey","usage","getCryptoKey","checkKeySize","cryptoKeyCek","bogus","data","subtleDigest","subtleRsaEs","undefined","process","versions","node","jwk","_b","keyUsages","kty","namedCurve","crv","WebSocketPair","subtleMapping","rest","ext","key_ops","keyData","enc","plaintext","iv","aad","keySize","encKey","macKey","ciphertext","macData","high","Math","floor","low","tag","slice","cbcEncrypt","encrypted","additionalData","tagLength","gcmEncrypt","providedCek","providedParameters","encryptedKey","parameters","startsWith","test","symmetricTypeCheck","asymmetricTypeCheck","apu","apv","epk","ephemeralKey","privateKey","use","exportJWK","sharedSecret","publicKey","keyLength","public","ceil","digest","secret","bits","iterations","res","iter","concatKdf","kwAlg","modulusLength","p2c","p2s","random","derived","checkP2s","salt","p2sInput","keylen","subtleAlg","wrapAlg","jweAlgorithm","_plaintext","setKeyManagementParameters","_keyManagementParameters","setProtectedHeader","protectedHeader","_protectedHeader","setSharedUnprotectedHeader","sharedUnprotectedHeader","_sharedUnprotectedHeader","setUnprotectedHeader","unprotectedHeader","_unprotectedHeader","setAdditionalAuthenticatedData","_aad","setContentEncryptionKey","_cek","setInitializationVector","_iv","options","headers","sources","filter","Boolean","header","parameter","has","add","Set","joseHeader","Err","recognizedDefault","recognizedOption","crit","recognized","Map","entries","get","zip","aadMember","JSON","stringify","deflated","deflateRaw","jwe","encrypted_key","protected","unprotected","_flattened","encrypt","makeCompactJwe","cty","byteArr","cids","kid","SyfrEvent","static","form","detail","dispatchEvent","CustomEvent","SyfrClass","syfrId","anchor","jwes","loading","id","dataset","idCheck","linkCheck","autoSubmit","debug","href","linkEl","querySelector","issues","linkMissing","got","want","HTMLAnchorElement","linkHref","contains","linkWithinForm","match","cs","getComputedStyle","pf","parseFloat","px","paddingLeft","paddingRight","py","paddingTop","paddingBottom","bx","borderLeftWidth","borderRightWidth","by","borderTopWidth","borderBottomWidth","areaPx","offsetHeight","offsetWidth","fontSizePx","fontSize","offsetParent","validationLinkIsHidden","validationLinkHref","got_","relList","validationLinkIsNofollow","validationLinkIsNoreferrer","validationLinkArea","validationLinkFontSizePx","link","error","seeDocs","pubJwk","response","fetch","method","mode","json","publicJwk","fetchJwk","pubKey","getJwk","octAsKeyObject","getPrototypeOf","proto","oth","keyFromJwk","valid","validateUrl","formPubKey","getKey","addEventListener","event","preventDefault","stopImmediatePropagation","stopPropagation","submit","reset","buildEntry","sendToSyfr","getCode","getData","buildRootJwe","XMLSerializer","serializeToString","srcFormData","FormData","result","fieldName","fieldArr","getAll","parsed","getParsedFieldArr","stringifiableObj","rootJwe","jweToCid","field","getParsedField","File","processFile","file","fileJwe","fileToUint8","fileToMeta","arrayBuffer","lastModified","payload","values","append","transmit","request","XMLHttpRequest","open","send","pushToApi","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","o","defineProperty","enumerable","obj","toStringTag","SyfrForm","action","_action"],"sourceRoot":""}